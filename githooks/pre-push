#!/bin/sh
# pre-push hook to run tests

echo "Running tests before push..."

# Activate virtual environment if exists
if [ -d "venv" ]; then
    . venv/bin/activate
fi

export PYTHONPATH=$PYTHONPATH:.
pytest tests/

if [ $? -ne 0 ]; then
    echo "Tests failed! Push aborted."
    exit 1
fi

echo "Tests passed. Proceeding with push."
exit 0
